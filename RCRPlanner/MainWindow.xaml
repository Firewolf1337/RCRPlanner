<Window x:Class="RCRPlanner.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:xrpb="http://XamlRadialProgressBar/DotNet"
        xmlns:local="clr-namespace:RCRPlanner"
        mc:Ignorable="d"
        		UseLayoutRounding="True"
		        SnapsToDevicePixels="True"
        Title="RavenCreekRacing Planner"
        MinWidth="1280" MinHeight="800"
        Width="1280" Height="800" 
        WindowStyle="None"
        AllowsTransparency="True"
        WindowState="Normal"
        ResizeMode="CanResizeWithGrip" 
        SizeChanged="Window_SizeChanged"
        Background="Transparent">
    <Border CornerRadius="0" BorderBrush="{StaticResource DefaultBorderBrush}" SnapsToDevicePixels="True" Visibility="Visible" BorderThickness="1" Background="{StaticResource BrushDefaultWindowBackground}">
    <Grid x:Name="gridMainwindow">
        <Grid.RowDefinitions>
            <RowDefinition Height="42"/>
            <RowDefinition/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
            <Grid x:Name="MainGrid" Grid.Row="1" Grid.RowSpan="2" Grid.Column="0" Grid.ColumnSpan="2" Visibility="Visible"  >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition MaxWidth="200"/>
                    <ColumnDefinition MaxWidth="200"/>
                    <ColumnDefinition MaxWidth="200"/>
                    <ColumnDefinition MaxWidth="200"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="30"/>
                    <RowDefinition/>
                    <RowDefinition Height="30"/>
                </Grid.RowDefinitions>
                <Button x:Name="btnMenu1" Grid.Column="0" Grid.Row="0" Height="30" Width="80" HorizontalAlignment="Center" Click="btnMenu1_Click"/>
                <CheckBox x:Name="cbMenu2" Grid.Column="1" Grid.Row="0" Height="30" Click="cbMenu2_Click"/>
                <DockPanel x:Name="tbMenu2" Grid.Column="1" Grid.Row="0" Grid.ColumnSpan="2" Width="300" HorizontalAlignment="Left" LastChildFill="True">
                    <Label x:Name="tbMenu2lb"  Style="{StaticResource DefaultLabelStyle}"/>
                    <TextBox x:Name="tbMenu2tb" Height="24" Style="{StaticResource DefaultTextBoxStyle}"/>
                </DockPanel>
                <DockPanel x:Name="dpMenu2" Grid.Column="1" Grid.Row="0" Grid.ColumnSpan="2" Background="Transparent" Width="Auto" HorizontalAlignment="Left">
                    <Label x:Name="lbMenu2"  Style="{StaticResource DefaultLabelStyle}"/>
                    <ComboBox x:Name="ddMenu2" Height="25" Width="100" SelectionChanged="ddMenu2_SelectionChanged" ItemsSource="{Binding}" DisplayMemberPath="Name" SelectedValuePath="Value">
                        <ComboBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </ComboBox.ItemsPanel>
                    </ComboBox>
                </DockPanel>
                <CheckBox x:Name="cbMenu3" Grid.Column="2" Grid.Row="0" Height="30" Click="cbMenu3_Click"/>
                <DockPanel x:Name="dpMenu3" Grid.Column="2" Grid.Row="0" Grid.ColumnSpan="2" Background="Transparent" Width="Auto" HorizontalAlignment="Left">
                    <Label x:Name="lbMenu3"  Style="{StaticResource DefaultLabelStyle}"/>
                    <ComboBox x:Name="ddMenu3" Height="25" Width="100" SelectionChanged="ddMenu3_SelectionChanged">
                        <ComboBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </ComboBox.ItemsPanel>
                    </ComboBox>
                </DockPanel>
                <CheckBox x:Name="cbMenu4" Grid.Column="3" Grid.Row="0" Height="30" Click="cbMenu4_Click"/>
                <DockPanel x:Name="dpMenu4" Grid.Column="3" Grid.Row="0" Grid.ColumnSpan="2" Background="Transparent" Width="Auto" HorizontalAlignment="Left">
                    <Label x:Name="lbMenu4"  Style="{StaticResource DefaultLabelStyle}"/>
                    <ComboBox x:Name="ddMenu4" Height="25" Width="100" SelectionChanged="ddMenu4_SelectionChanged">
                        <ComboBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </ComboBox.ItemsPanel>
                    </ComboBox>
                </DockPanel>
                <CheckBox x:Name="cbMenu5" Grid.Column="4" Grid.Row="0" Height="30" Click="cbMenu5_Click" ToolTipService.IsEnabled="True" ToolTip="Test"/>
                <DockPanel x:Name="dpMenu5" Grid.Column="4" Grid.Row="0" Grid.ColumnSpan="2" Background="Transparent" Width="Auto" HorizontalAlignment="Left">
                    <Label x:Name="lbMenu5"  Style="{StaticResource DefaultLabelStyle}"/>
                    <ComboBox x:Name="ddMenu5" Height="25" Width="100" SelectionChanged="ddMenu5_SelectionChanged">
                        <ComboBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </ComboBox.ItemsPanel>
                    </ComboBox>
                </DockPanel>
                <CheckBox x:Name="cbMenu6" Grid.Column="5" Grid.Row="0" Height="30" Click="cbMenu6_Click" ToolTipService.IsEnabled="True" ToolTip="Test"/>
                <DockPanel x:Name="dpMenu6" Grid.Column="5" Grid.Row="0" Grid.ColumnSpan="2" HorizontalAlignment="Left" LastChildFill="False">
                    <Label x:Name="tbMenu6lb" Style="{StaticResource DefaultLabelStyle}"/>
                    <TextBox x:Name="tbMenu6tb" Height="24" Width="40" Style="{StaticResource DefaultTextBoxStyle}" />
                    <Button x:Name="btnMenu6" Grid.Column="5" Grid.Row="0" Height="30" Width="30" Click="btnMenu6_Click">
                        <TextBlock x:Name="btnMenu6tb" Margin="0,-3,0,0" FontSize="16"/>
                    </Button>
                </DockPanel>
                <TextBlock x:Name="tbMenu6" Grid.Column="5" Grid.Row="0" Height="30" Text="⟳" Style="{StaticResource DefaultTextBlockStyle}" FontSize="30" HorizontalAlignment="Right" Margin="0,-7,20,0" MouseDown="tbMenu6_MouseDown" VerticalAlignment="Center" TextAlignment="Center" UseLayoutRounding="True" />
                <Grid Grid.Column="0" Grid.ColumnSpan="6" Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="600"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Grid x:Name="gridDetails" Grid.Column="1" Grid.Row="0" Visibility="Hidden">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="15"/>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="15"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="100"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition/>
                            <RowDefinition Height="15"/>
                        </Grid.RowDefinitions>
                        <Image x:Name="imDetailImage" Stretch="Uniform"  Grid.Column="1" Grid.Row="0" Grid.ColumnSpan="4" RenderOptions.BitmapScalingMode="HighQuality"/>
                        <Label x:Name="lblDetails1" Grid.Column="1" Grid.Row="1" Style="{StaticResource DefaultLabelStyle}" />
                        <TextBlock x:Name="tbDetail1" Text="" Grid.Column="2" Grid.Row="1" Style="{StaticResource DefaultTextBlockStyle}"/>
                        <Label x:Name="lblDetails2" Grid.Column="1" Grid.Row="2" Style="{StaticResource DefaultLabelStyle}" />
                        <TextBlock x:Name="tbDetail2" Text="" Grid.Column="2" Grid.Row="2" Style="{StaticResource DefaultTextBlockStyle}"/>
                        <Label x:Name="lblDetails3" Grid.Column="1" Grid.Row="3" Style="{StaticResource DefaultLabelStyle}" />
                        <TextBlock x:Name="tbDetail3" Text="" Grid.Column="2" Grid.Row="3" Style="{StaticResource DefaultTextBlockStyle}"/>
                        <Label x:Name="lblDetails4" Grid.Column="3" Grid.Row="1" Style="{StaticResource DefaultLabelStyle}" />
                        <TextBlock x:Name="tbDetail4" Text="" Grid.Column="4" Grid.Row="1" Style="{StaticResource DefaultTextBlockStyle}"/>
                        <Label x:Name="lblDetails5" Grid.Column="3" Grid.Row="2" Style="{StaticResource DefaultLabelStyle}" />
                        <TextBlock x:Name="tbDetail5" Text="" Grid.Column="4" Grid.Row="2" Style="{StaticResource DefaultTextBlockStyle}"/>
                        <Label x:Name="lblDetails6" Grid.Column="3" Grid.Row="3" Style="{StaticResource DefaultLabelStyle}" />
                        <TextBlock x:Name="tbDetail6" Text="" Grid.Column="4" Grid.Row="3" Style="{StaticResource DefaultTextBlockStyle}"/>
                        <Label x:Name="lblDetails7" Grid.Column="1" Grid.Row="4" Style="{StaticResource DefaultLabelStyle}" />
                        <TextBlock x:Name="tbDetail7" Grid.Column="2" Grid.Row="4" Style="{StaticResource DefaultTextBlockStyle}">
                        <Hyperlink x:Name="tbDetail7Link" NavigateUri="#" Click="link_Click" MouseRightButtonDown="link_Copy" Foreground="{StaticResource BrushTextWhite}">Left click open / Right click copy</Hyperlink>
                        </TextBlock>
                        <Label x:Name="lblDetails8" Grid.Column="3" Grid.Row="4" Style="{StaticResource DefaultLabelStyle}" />
                        <TextBlock x:Name="tbDetail8" Grid.Column="4" Grid.Row="4" Style="{StaticResource DefaultTextBlockStyle}">
                        <Hyperlink x:Name="tbDetail8Link" NavigateUri="#" Click="link_Click" MouseRightButtonDown="link_Copy" Foreground="{StaticResource BrushTextWhite}">Left click open / Right click copy</Hyperlink>
                        </TextBlock>
                        <DataGrid x:Name="gridCarDetail" Grid.Row="5" Grid.RowSpan="8" Grid.Column="1" Grid.ColumnSpan="4"  Style="{StaticResource DefaultDataGridStyle}" AutoGenerateColumns="False" RowHeight="30"  GridLinesVisibility="Horizontal" Visibility="Visible" 
                     SelectionChanged="dataGrid_SelectionChanged" SelectionMode="Single" BorderBrush="{StaticResource DefaultBorderBrush}">
                            <DataGrid.Columns>
                                <DataGridTemplateColumn IsReadOnly="True">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Image Source="{Binding Seriesimage}" RenderOptions.BitmapScalingMode="HighQuality" Height="30" Width="100"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Series" IsReadOnly="True" MinWidth="200" Width="Auto" SortMemberPath="SeriesName"  CanUserSort="True">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding SeriesName}"  TextTrimming="WordEllipsis"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Category" IsReadOnly="True" MinWidth="50" Width="Auto" SortMemberPath="Category"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Category}" HorizontalAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Eligible"  IsReadOnly="True" SortMemberPath="Eligible"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                    <DataGridTemplateColumn.CellTemplate >
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Eligible}" HorizontalAlignment="Center"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Favorite" IsReadOnly="false" MinWidth="60" Width="100*" HeaderStyle="{StaticResource DataGridHeaderCenter}" SortMemberPath="Favorite"  CanUserSort="True" CellStyle="{StaticResource SelectionDataGridCellStyle}">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Favorite}" HorizontalAlignment="Center" MouseDown="gridSeriesFavorite_MouseDown"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>

                        <DataGrid x:Name="gridTrackDetail" Grid.Row="5" Grid.RowSpan="8" Grid.Column="1" Grid.ColumnSpan="4"  Style="{StaticResource DefaultDataGridStyle}" AutoGenerateColumns="False" RowHeight="30" GridLinesVisibility="Horizontal" Visibility="Visible"
                                  SelectionMode="Extended" ScrollViewer.CanContentScroll="False"
                                  PreviewMouseWheel="DataGrid_PreviewMouseWheel" BorderBrush="{StaticResource DefaultBorderBrush}">
                            <DataGrid.Columns>
                                <DataGridTemplateColumn IsReadOnly="True">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Image Source="{Binding Seriesimage}" RenderOptions.BitmapScalingMode="HighQuality" Height="30" Width="Auto"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Series" IsReadOnly="True" MinWidth="150" Width="150" SortMemberPath="SeriesName"  CanUserSort="True">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding SeriesName}"  TextTrimming="WordEllipsis"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Layout" IsReadOnly="True" MinWidth="80" Width="80" SortMemberPath="Category"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Category}" HorizontalAlignment="Center"  TextTrimming="WordEllipsis"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Weeks" IsReadOnly="True" MinWidth="80" Width="Auto" SortMemberPath="Weeks"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Weeks}" HorizontalAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Eligible"  IsReadOnly="True" SortMemberPath="Eligible"  CanUserSort="True"  HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                    <DataGridTemplateColumn.CellTemplate >
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Eligible}" HorizontalAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Favorite" IsReadOnly="false" MinWidth="60" Width="100" SortMemberPath="Favorite" HeaderStyle="{StaticResource DataGridHeaderCenter}" CanUserSort="True" CellStyle="{StaticResource SelectionDataGridCellStyle}">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Favorite}" HorizontalAlignment="Center" MouseDown="gridSeriesFavorite_MouseDown"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>

                    <!-- Datagrid for car visualization -->
                    <DataGrid x:Name="gridCars" Grid.Row="0" Grid.Column="0" Style="{StaticResource DefaultDataGrid50hStyle}" 
                     AutoGenerateColumns="False" GridLinesVisibility="Horizontal" Visibility="Hidden" ScrollViewer.CanContentScroll="False"
                     SelectionChanged="dataGrid_SelectionChanged" SelectionMode="Single" HorizontalAlignment="Stretch">
                        <DataGrid.RowStyle>
                            <Style TargetType="DataGridRow" BasedOn="{StaticResource DefaultDataGridRowStyle}">
                                <Style.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background" Value="{StaticResource BrushGridHighlightYellow }" />
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </DataGrid.RowStyle>
                        <DataGrid.Columns>
                            <DataGridTemplateColumn IsReadOnly="True" Header="Logo" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                <DataGridTemplateColumn.CellTemplate >
                                    <DataTemplate>
                                        <Image Source="{Binding CarLogo}" RenderOptions.BitmapScalingMode="HighQuality" Width="100"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Header="Fav." IsReadOnly="false" MinWidth="30" HeaderStyle="{StaticResource DataGridHeaderCenter}" Width="Auto" SortMemberPath="Favorite"  CanUserSort="True" CellStyle="{StaticResource SelectionDataGridCellStyle}">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Favorite}" HorizontalAlignment="Center" MouseDown="gridCarsFavorite_MouseDown" FontSize="25"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Header="Car name" IsReadOnly="True" MinWidth="200" Width="*"  SortMemberPath="CarName"  CanUserSort="True">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding CarName}" TextTrimming="WordEllipsis"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellStyle>
                                    <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCell50hStyle }">
                                        <Setter Property="Foreground" Value="{StaticResource BrushTextWhite}" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Owned}" Value="🗸">
                                                <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridTemplateColumn.CellStyle>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Header="Series" IsReadOnly="True" SortMemberPath="Series_Participations" MinWidth="40" Width="Auto" CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Series_Participations}" HorizontalAlignment="Center" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Header="Category"  IsReadOnly="True" SortMemberPath="Category"  MinWidth="80" Width="80" CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                <DataGridTemplateColumn.CellTemplate >
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Category}" HorizontalAlignment="Center"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Header="Price"  IsReadOnly="True" SortMemberPath="Price" MinWidth="40"  Width="Auto" CanUserSort="True"  HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                <DataGridTemplateColumn.CellTemplate >
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Price}" HorizontalAlignment="Center"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Header="Created"  IsReadOnly="True" SortMemberPath="CarId"  MinWidth="80" Width="80*" CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                <DataGridTemplateColumn.CellTemplate >
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Created}" HorizontalAlignment="Center"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>


                    <!-- Datagrid for track visualization -->
                    <DataGrid x:Name="gridTracksLayout" Grid.Row="0" Grid.Column="0" Style="{StaticResource DefaultDataGrid50hStyle}" BorderBrush="Transparent" AutoGenerateColumns="False" 
                GridLinesVisibility="Horizontal" Visibility="Hidden" SelectionChanged="dataGrid_SelectionChanged" MouseLeftButtonDown="dataGrid_ExtendCollapseDetails">
                        <DataGrid.Columns>
                            <DataGridTemplateColumn IsReadOnly="True" MaxWidth="5"  Width="5" CanUserResize="False" CanUserSort="False" CanUserReorder="False">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Header="Favorite" IsReadOnly="false" MinWidth="55" HeaderStyle="{StaticResource DataGridHeaderCenter}" Width="Auto" SortMemberPath="Favorite"  CanUserSort="True" CellStyle="{StaticResource SelectionDataGridCellStyle}">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Favorite}" HorizontalAlignment="Center" MouseDown="gridTracksFavorite_MouseDown" FontSize="25"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Header="Track name" IsReadOnly="True" MinWidth="200" Width="Auto" SortMemberPath="Name"  CanUserSort="True">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Name}" TextTrimming="WordEllipsis"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                                <DataGridTemplateColumn.CellStyle>
                                    <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCellStyle }">
                                        <Setter Property="Foreground" Value="{StaticResource BrushTextWhite}" />
                                        <Setter Property="Height" Value="35"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Owned}" Value="🗸">
                                                <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridTemplateColumn.CellStyle>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Header="Layouts" IsReadOnly="True" MinWidth="50" Width="Auto" SortMemberPath="Layouts_count"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Layouts_count}" HorizontalAlignment="Center" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Header="Series" IsReadOnly="True" MinWidth="40" SortMemberPath="Participations"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Participations}" HorizontalAlignment="Center" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Header="Price"  IsReadOnly="True" MinWidth="40" SortMemberPath="Price"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                <DataGridTemplateColumn.CellTemplate >
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Price}"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Header="Created"  IsReadOnly="True" Width="80*" SortMemberPath="TrackID"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                <DataGridTemplateColumn.CellTemplate >
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Created}" HorizontalAlignment="Center"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                        <DataGrid.RowDetailsTemplate>
                            <DataTemplate>
                                <DockPanel Background="Transparent">
                                    <DataGrid HorizontalAlignment="Center" x:Name="gridTracks" Grid.Row="0" MinWidth="400" BorderBrush="Transparent" Grid.Column="0" Style="{StaticResource DefaultDataGrid50hStyle}" 
                                AutoGenerateColumns="False" RowHeight="50" MinColumnWidth="50" GridLinesVisibility="Horizontal" 
                                SelectionMode="Extended" ScrollViewer.CanContentScroll="False" ItemsSource="{Binding Layouts}" SelectionChanged="dataGrid_SelectionChanged"
                                PreviewMouseWheel="DataGrid_PreviewMouseWheel">
                                        <DataGrid.RowStyle>
                                            <Style TargetType="DataGridRow" BasedOn="{StaticResource DefaultDataGridRowStyle}">
                                                <Style.Triggers>
                                                    <Trigger Property="IsSelected" Value="True">
                                                        <Setter Property="Background" Value="{StaticResource BrushGridHighlightYellow }" />
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </DataGrid.RowStyle>
                                        <DataGrid.Columns>
                                            <DataGridTemplateColumn IsReadOnly="True" Header="Track" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                                <DataGridTemplateColumn.CellTemplate >
                                                    <DataTemplate>
                                                        <Image Source="{Binding TrackImage}" RenderOptions.BitmapScalingMode="HighQuality" Width="100"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTemplateColumn Header="Layout name" IsReadOnly="True" MinWidth="150" Width="Auto" SortMemberPath="Layoutname"  CanUserSort="True">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Layoutname}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTemplateColumn Header="Category" IsReadOnly="True" MinWidth="80" Width="Auto" SortMemberPath="Category"  CanUserSort="True">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Category}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTemplateColumn Header="Series" IsReadOnly="True" Width="100*" SortMemberPath="Participations"  CanUserSort="True">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Participations}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </DockPanel>
                            </DataTemplate>
                        </DataGrid.RowDetailsTemplate>
                    </DataGrid>
                </Grid>
                <!-- Datagrid for series visualization -->
                <DataGrid x:Name="gridSeries" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="6" Style="{StaticResource DefaultDataGrid50hStyle}" BorderBrush="Transparent" 
                          AutoGenerateColumns="False" MinColumnWidth="50" GridLinesVisibility="Horizontal" Visibility="Hidden" 
                          ScrollViewer.CanContentScroll="False" SelectionChanged="dataGrid_SelectionChanged" MouseLeftButtonDown="dataGrid_ExtendCollapseDetails">
                    <DataGrid.Columns>
                        <DataGridTemplateColumn IsReadOnly="True" MaxWidth="15"  Width="15" CanUserResize="False" CanUserSort="False" CanUserReorder="False">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn IsReadOnly="True" Header="Logo" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Image Source="{Binding Seriesimage}" RenderOptions.BitmapScalingMode="HighQuality"  Width="100" Height="50"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Favorite" IsReadOnly="false" MinWidth="60" Width="Auto" SortMemberPath="Favorite"  CanUserSort="True" CellStyle="{StaticResource SelectionDataGridCellStyle}" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Favorite}" HorizontalAlignment="Center" MouseDown="gridSeriesFavorite_MouseDown" FontSize="25"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Series" IsReadOnly="True" MinWidth="350" Width="Auto" SortMemberPath="SeriesName" CanUserSort="True">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding SeriesName}" TextTrimming="WordEllipsis"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Category" IsReadOnly="True" MinWidth="70" Width="Auto" SortMemberPath="Category" CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Category}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="owned / Tracks" MinWidth="100" Width="Auto"  IsReadOnly="True" SortMemberPath="Weeks"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Weeks}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="owned / Cars" MinWidth="100" Width="Auto"   IsReadOnly="True" SortMemberPath="OwnCars"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding OwnCars}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Class" IsReadOnly="True" MinWidth="50" Width="Auto" SortMemberPath="Class" CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellStyle>
                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCellStyle }">
                                    <Setter Property="Height" Value="50"/>
                                    <Setter Property="BorderBrush" Value="Transparent"/>
                                    <Setter Property="Foreground" Value="{StaticResource BrushTextBlack}" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Class}" Value="A">
                                            <Setter Property="Foreground" Value="{StaticResource BrushTextWhite}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTemplateColumn.CellStyle>
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Class}"  HorizontalAlignment="Center" MinWidth="15" TextAlignment="Center" >
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="Background" Value="White"></Setter>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Class}" Value="R">
                                                        <Setter Property="Background" Value="{StaticResource ClassRed}" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Class}" Value="D">
                                                        <Setter Property="Background" Value="{StaticResource ClassOrange}" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Class}" Value="C">
                                                        <Setter Property="Background" Value="{StaticResource ClassYellow}" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Class}" Value="B">
                                                        <Setter Property="Background" Value="{StaticResource ClassGreen}" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Class}" Value="A">
                                                        <Setter Property="Background" Value="{StaticResource ClassBlue}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="License" MinWidth="50" Width="Auto"   IsReadOnly="True" SortMemberPath="License"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding License}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Eligible" MinWidth="50" Width="Auto" IsReadOnly="True" SortMemberPath="Eligible"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellStyle>
                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCell50hStyle }">
                                    <Setter Property="Foreground" Value="{StaticResource BrushRed}" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Eligible}" Value="🗸">
                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTemplateColumn.CellStyle>
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Eligible}" HorizontalAlignment="Center" FontSize="20"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Official" MinWidth="40" IsReadOnly="True" SortMemberPath="Official"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellStyle>
                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCell50hStyle }">
                                    <Setter Property="Foreground" Value="{StaticResource BrushRed}" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Official}" Value="🗸">
                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTemplateColumn.CellStyle>
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Official}" HorizontalAlignment="Center" FontSize="20"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Fixed" MinWidth="40" IsReadOnly="True" SortMemberPath="Fixed"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellStyle>
                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCell50hStyle }">
                                    <Setter Property="Foreground" Value="{StaticResource BrushRed}" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Fixed}" Value="🗸">
                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTemplateColumn.CellStyle>
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Fixed}" HorizontalAlignment="Center" FontSize="20"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Race times"  IsReadOnly="True" SortMemberPath="RaceTimes"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding RaceTimes}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Width="100*"  IsReadOnly="True" CanUserSort="false">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                    <DataGrid.RowDetailsTemplate>
                        <DataTemplate>
                            <DockPanel Background="{StaticResource DefaultBackgroundBrush}" HorizontalAlignment="Stretch">
                                <DataGrid x:Name="gridSeriesTrack" HorizontalAlignment="Stretch" Grid.Row="0" Grid.Column="0" Height="390" Style="{StaticResource SubDataGridStyle}" 
                                          AutoGenerateColumns="False"
                                          SelectionChanged="dataGrid_SelectionChanged"
                                          SelectionMode="Extended" IsReadOnly="True" ItemsSource="{Binding Tracks}"
                                          Loaded="ScrollWeekIntoView">
                                    <DataGrid.RowStyle>
                                        <Style TargetType="DataGridRow" BasedOn="{StaticResource DefaultDataGridRowStyle}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding WeekActive}" Value="true">
                                                    <Setter Property="FontWeight" Value="ExtraBold"/>
                                                    <Setter Property="Background" Value="{StaticResource BrushGridHighlightWhite}"/>
                                                </DataTrigger>
                                                <Trigger Property="IsSelected" Value="True">
                                                    <Setter Property="Background" Value="{StaticResource BrushGridHighlightYellow }" />
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </DataGrid.RowStyle>
                                    <DataGrid.Columns>
                                        <DataGridTemplateColumn Header="Week" IsReadOnly="True" MinWidth="40" Width="Auto" SortMemberPath="Week"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Week}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Week start" IsReadOnly="True" MinWidth="70" Width="Auto" SortMemberPath="Weekdate"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Weekdate}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Name" IsReadOnly="True" MinWidth="200" Width="200*" SortMemberPath="Name"  CanUserSort="True">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Name}" TextTrimming="WordEllipsis"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellStyle>
                                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCellStyle }">
                                                    <Setter Property="Foreground" Value="{StaticResource BrushTextWhite}" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding Owned}" Value="🗸">
                                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </DataGridTemplateColumn.CellStyle>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Layout name" IsReadOnly="True" MinWidth="100" Width="Auto" SortMemberPath="Layoutname"  CanUserSort="True">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Layoutname}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellStyle>
                                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCellStyle }">
                                                    <Setter Property="Foreground" Value="{StaticResource BrushTextWhite}" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding Owned}" Value="🗸">
                                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </DataGridTemplateColumn.CellStyle>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Category" IsReadOnly="True" MinWidth="50" Width="Auto" SortMemberPath="Category"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Category}" HorizontalAlignment="Center" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Length"  IsReadOnly="True" SortMemberPath="Length" MinWidth="70" Width="Auto" CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate >
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Length}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Corners" HeaderStyle="{StaticResource DataGridHeaderCenter}" IsReadOnly="True" MinWidth="50" Width="Auto" SortMemberPath="Corners"  CanUserSort="True">
                                            <DataGridTemplateColumn.CellTemplate >
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Corners}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Race length" HeaderStyle="{StaticResource DataGridHeaderCenter}" MinWidth="75" Width="Auto" IsReadOnly="True" SortMemberPath="Racelength"  CanUserSort="True">
                                            <DataGridTemplateColumn.CellTemplate >
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Racelength}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Price" IsReadOnly="True" SortMemberPath="Price" MinWidth="50" Width="Auto" CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Price}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Owned"  IsReadOnly="True" SortMemberPath="Owned" MinWidth="70" Width="Auto"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate >
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Owned}" HorizontalAlignment="Center" FontSize="20"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                    </DataGrid.Columns>
                                </DataGrid>
                                <StackPanel>
                                    <TextBlock Style="{StaticResource DefaultTextBlockStyle}">Forum link:
                                        <Hyperlink NavigateUri="{Binding ForumLink}" Click="link_Click" MouseRightButtonDown="link_Copy"><TextBlock ToolTip="{Binding ForumLink}" Text="Left click open / Right click copy" Style="{StaticResource DefaultTextBlockStyle}"/></Hyperlink>
                                    </TextBlock>
                                    <Image x:Name="imRaceTrack" Stretch="Uniform" RenderOptions.BitmapScalingMode="HighQuality" Height="150"/>
                                    <DataGrid HorizontalAlignment="Left" Style="{StaticResource SubDataGridStyle}" 
                                          AutoGenerateColumns="False"
                                          SelectionChanged="dataGrid_SelectionChanged"
                                          SelectionMode="Extended" IsReadOnly="True" ScrollViewer.CanContentScroll="False" ItemsSource="{Binding Cars}"
                                          PreviewMouseWheel="DataGrid_PreviewMouseWheel" >
                                        <DataGrid.Columns>
                                            <DataGridTemplateColumn IsReadOnly="True" MinWidth="100">
                                                <DataGridTemplateColumn.CellTemplate >
                                                    <DataTemplate>
                                                        <Image Source="{Binding CarImage}" RenderOptions.BitmapScalingMode="HighQuality" Width="Auto" Height="25"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTemplateColumn Header="Car name" IsReadOnly="True" MinWidth="150" Width="100" SortMemberPath="CarName"  CanUserSort="True">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding CarName}" TextTrimming="WordEllipsis"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTemplateColumn Header="Price"  IsReadOnly="True" SortMemberPath="Price" MinWidth="50" Width="Auto" CanUserSort="True"  HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                                <DataGridTemplateColumn.CellTemplate >
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Price}" HorizontalAlignment="Center"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTemplateColumn Header="Owned"  IsReadOnly="True" SortMemberPath="Owned" MinWidth="50" Width="50*" CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                                <DataGridTemplateColumn.CellTemplate >
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Owned}" HorizontalAlignment="Center" FontSize="20"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </StackPanel>
                            </DockPanel>
                        </DataTemplate>
                    </DataGrid.RowDetailsTemplate>
                </DataGrid>
                <!-- Raceweeks overview -->
                <DataGrid x:Name="gridRaces" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="6" Style="{StaticResource DefaultDataGridStyle}" 
                          BorderBrush="Transparent" AutoGenerateColumns="False" RowHeight="30" ScrollViewer.CanContentScroll="False"
                          MinColumnWidth="45" GridLinesVisibility="Horizontal" Visibility="Hidden" SelectionChanged="dataGrid_SelectionChanged" MouseLeftButtonDown="dataGrid_ExtendCollapseDetails">
                    <DataGrid.Columns>
                        <DataGridTemplateColumn IsReadOnly="True" MaxWidth="1" Width="1" CanUserResize="False" CanUserSort="False" CanUserReorder="False">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn IsReadOnly="True" CanUserResize="False" Header="Logo" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Image Source="{Binding Serie.Seriesimage}" RenderOptions.BitmapScalingMode="Fant" Height="30" Width="100" Margin="0,0,5,0"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Series" IsReadOnly="True" MinWidth="200" Width="225" SortMemberPath="Serie.SeriesName"  CanUserSort="True">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Serie.SeriesName}"  TextTrimming="WordEllipsis" Margin="0,0,5,0"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Track name" IsReadOnly="True" MinWidth="80" Width="190" SortMemberPath="Track.Name"  CanUserSort="True">
                            <DataGridTemplateColumn.CellStyle>
                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCellStyle }">
                                    <Setter Property="Foreground" Value="{StaticResource BrushTextWhite}" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding TrackOwned}" Value="true">
                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTemplateColumn.CellStyle>
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Track.Name}"  TextTrimming="WordEllipsis" Margin="0,0,5,0"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Race length" MinWidth="80" IsReadOnly="True" SortMemberPath="SerieRaceLength"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding SerieRaceLength}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Tracks owned"  IsReadOnly="True" SortMemberPath="TracksOwned"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding TracksOwned}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Class" IsReadOnly="True" MinWidth="40" Width="Auto" SortMemberPath="Serie.Class"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellStyle>
                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCellStyle }">
                                    <Setter Property="Foreground" Value="{StaticResource BrushTextBlack }" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Serie.Class}" Value="A">
                                            <Setter Property="Foreground" Value="{StaticResource BrushTextWhite}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTemplateColumn.CellStyle>
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Serie.Class}"  HorizontalAlignment="Center" MinWidth="15" TextAlignment="Center">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="Background" Value="White"></Setter>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Serie.Class}" Value="R">
                                                        <Setter Property="Background" Value="{StaticResource ClassRed}" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Serie.Class}" Value="D">
                                                        <Setter Property="Background" Value="{StaticResource ClassOrange}" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Serie.Class}" Value="C">
                                                        <Setter Property="Background" Value="{StaticResource ClassYellow}" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Serie.Class}" Value="B">
                                                        <Setter Property="Background" Value="{StaticResource ClassGreen}" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Serie.Class}" Value="A">
                                                        <Setter Property="Background" Value="{StaticResource ClassBlue}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="License"  IsReadOnly="True" SortMemberPath="Serie.License"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Serie.License}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Eligible" MinWidth="40" IsReadOnly="True" SortMemberPath="Serie.Eligible"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellStyle>
                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCellStyle }">
                                    <Setter Property="Foreground" Value="{StaticResource BrushRed}" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Serie.Eligible}" Value="🗸">
                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTemplateColumn.CellStyle>
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Serie.Eligible}" HorizontalAlignment="Center" FontSize="20"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Official" MinWidth="40" IsReadOnly="True" SortMemberPath="Serie.Official"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellStyle>
                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCellStyle }">
                                    <Setter Property="Foreground" Value="{StaticResource BrushRed}" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Serie.Official}" Value="🗸">
                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTemplateColumn.CellStyle>
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Serie.Official}" HorizontalAlignment="Center" FontSize="20"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Fixed" MinWidth="40" IsReadOnly="True" SortMemberPath="Serie.Fixed"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellStyle>
                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCellStyle }">
                                    <Setter Property="Foreground" Value="{StaticResource BrushRed}" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Serie.Fixed}" Value="🗸">
                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTemplateColumn.CellStyle>
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Serie.Fixed}" HorizontalAlignment="Center" FontSize="20"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="First race"  IsReadOnly="True" SortMemberPath="FirstSessionTime"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding FirstSessionTime}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Race times"  IsReadOnly="True" SortMemberPath="Repeating"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellStyle>
                                <Style TargetType="DataGridCell" BasedOn="{StaticResource DefaultDataGridCellStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Repeating}" Value="Set times">
                                            <Setter Property="ToolTip" Value="{Binding SessionTimes}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTemplateColumn.CellStyle>
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Repeating}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Next race"  IsReadOnly="True" SortMemberPath="NextRace"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding NextRaceTime}" HorizontalAlignment="Center" Margin="0,0,5,0"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Alarm" IsReadOnly="false" MinWidth="35" Width="Auto" SortMemberPath="Timer"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellStyle>
                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCellStyle }">
                                    <Setter Property="Foreground" Value="{StaticResource BrushTextWhite}" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Timer}" Value="⏰">
                                            <Setter Property="Foreground" Value="{StaticResource BrushYellow}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTemplateColumn.CellStyle>
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Timer}" HorizontalAlignment="Center" MouseDown="gridRacesAlarm_MouseDown" FontSize="20"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="👍👎" IsReadOnly="false" Width="35" SortMemberPath="Sympathy"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellStyle>
                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCellStyle }">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Sympathy}" Value="👎">
                                            <Setter Property="Foreground" Value="{StaticResource ClassRed}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Sympathy}" Value="👍">
                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTemplateColumn.CellStyle>
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Sympathy}" HorizontalAlignment="Center" MouseDown="gridRacesHated2_MouseDown" FontSize="16"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn IsReadOnly="True" CanUserResize="False" CanUserSort="False" Width="Auto" CanUserReorder="False" MinWidth="1">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                    <DataGrid.RowDetailsTemplate>
                        <DataTemplate>
                            <DockPanel Background="{StaticResource DefaultBackgroundBrush}" HorizontalAlignment="Stretch">
                                <DataGrid x:Name="gridTracksinSerie" HorizontalAlignment="Stretch" Grid.Row="0" Grid.Column="0" Height="390" Style="{StaticResource SubDataGridStyle}" 
                                          AutoGenerateColumns="False" MinColumnWidth="50"
                                          SelectionChanged="dataGrid_SelectionChanged"
                                          SelectionMode="Extended" IsReadOnly="True" ItemsSource="{Binding Tracks}"
                                          Loaded="ScrollWeekIntoView"
                                          >
                                    <DataGrid.RowStyle>
                                        <Style TargetType="DataGridRow" BasedOn="{StaticResource DefaultDataGridRowStyle}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding WeekActive}" Value="true">
                                                    <Setter Property="FontWeight" Value="ExtraBold"/>
                                                    <Setter Property="Background" Value="{StaticResource BrushGridHighlightWhite}"/>
                                                </DataTrigger>
                                                <Trigger Property="IsSelected" Value="True">
                                                    <Setter Property="Background" Value="{StaticResource BrushGridHighlightYellow }" />
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </DataGrid.RowStyle>
                                    <DataGrid.Columns>
                                        <DataGridTemplateColumn Header="Week" IsReadOnly="True" MinWidth="50" Width="Auto" SortMemberPath="Week"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Week}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Week start" IsReadOnly="True" MinWidth="80" Width="Auto" SortMemberPath="Weekdate"  CanUserSort="True">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Weekdate}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Name" IsReadOnly="True" MinWidth="200" Width="Auto" SortMemberPath="Name"  CanUserSort="True">
                                            <DataGridTemplateColumn.CellStyle>
                                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCell50hStyle }">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding Owned}" Value="🗸">
                                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </DataGridTemplateColumn.CellStyle>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Name}" Margin="0,0,5,0" TextTrimming="WordEllipsis"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Layout name" IsReadOnly="True" MinWidth="100" Width="Auto" SortMemberPath="Layoutname"  CanUserSort="True">
                                            <DataGridTemplateColumn.CellStyle>
                                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCell50hStyle }">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding Owned}" Value="🗸">
                                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </DataGridTemplateColumn.CellStyle>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Layoutname}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Category" IsReadOnly="True" MinWidth="80" Width="Auto" SortMemberPath="Category"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Category}"  HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Length"  IsReadOnly="True" SortMemberPath="Length"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate >
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Length}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Corners" HeaderStyle="{StaticResource DataGridHeaderCenter}" IsReadOnly="True" SortMemberPath="Corners"  CanUserSort="True">
                                            <DataGridTemplateColumn.CellTemplate >
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Corners}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Race length" HeaderStyle="{StaticResource DataGridHeaderCenter}" IsReadOnly="True" MinWidth="85" SortMemberPath="Racelength"  CanUserSort="True">
                                            <DataGridTemplateColumn.CellTemplate >
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Racelength}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Price" IsReadOnly="True" SortMemberPath="Price" Width="30" CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Price}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="👍👎" IsReadOnly="True" Width="30" SortMemberPath="Hated"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellStyle>
                                                <Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DefaultDataGridCellStyle }">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding Sympathy}" Value="👎">
                                                            <Setter Property="Foreground" Value="{StaticResource ClassRed}" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding Sympathy}" Value="👍">
                                                            <Setter Property="Foreground" Value="{StaticResource BrushMiddleGreen}" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </DataGridTemplateColumn.CellStyle>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Sympathy}" HorizontalAlignment="Center" MouseDown="gridRacesHated2_MouseDown" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                    </DataGrid.Columns>
                                </DataGrid>
                                <StackPanel>
                                    <Image x:Name="imRaceTrack" Stretch="Uniform" RenderOptions.BitmapScalingMode="HighQuality" Height="150"/>
                                    <DataGrid HorizontalAlignment="Left" VerticalAlignment="Bottom" x:Name="gridCarsinSerie" Grid.Row="0" Grid.Column="0" Style="{StaticResource SubDataGridStyle}" 
                                  AutoGenerateColumns="False" MinColumnWidth="50" 
                                  SelectionMode="Extended" IsReadOnly="True" ScrollViewer.CanContentScroll="False" ItemsSource="{Binding Cars}"
                                  PreviewMouseWheel="DataGrid_PreviewMouseWheel">
                                        <DataGrid.Columns>
                                            <DataGridTemplateColumn IsReadOnly="True" MinWidth="100">
                                                <DataGridTemplateColumn.CellTemplate >
                                                    <DataTemplate>
                                                        <Image Source="{Binding CarImage}" RenderOptions.BitmapScalingMode="HighQuality" Width="Auto" Height="25"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTemplateColumn Header="Car name" IsReadOnly="True" MinWidth="200" Width="200" SortMemberPath="CarName"  CanUserSort="True">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding CarName}" TextTrimming="WordEllipsis"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTemplateColumn Header="Owned"  IsReadOnly="True" SortMemberPath="Owned" MinWidth="50" Width="50*" CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                                <DataGridTemplateColumn.CellTemplate >
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Owned}" HorizontalAlignment="Center" FontSize="20"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </StackPanel>
                            </DockPanel>
                        </DataTemplate>
                    </DataGrid.RowDetailsTemplate>
                </DataGrid>

                <!-- Purchase Guide view-->
                <DataGrid x:Name="gridPurchaseGuide" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="6"  Style="{StaticResource DefaultDataGrid50hStyle}" 
                     AutoGenerateColumns="False" RowHeight="50" GridLinesVisibility="Horizontal" Visibility="Hidden" 
                     SelectionChanged="dataGrid_SelectionChanged" SelectionMode="Single" ScrollViewer.CanContentScroll="False" MouseLeftButtonDown="dataGrid_ExtendCollapseDetails">
                    <DataGrid.Columns>
                        <DataGridTemplateColumn IsReadOnly="True" MaxWidth="15"  Width="15" CanUserResize="False" CanUserSort="False" CanUserReorder="False">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn IsReadOnly="True" Header="Track" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <Image Source="{Binding TrackImage}" RenderOptions.BitmapScalingMode="HighQuality" Width="100"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Track name" IsReadOnly="True" MinWidth="400" Width="Auto" SortMemberPath="Name"  CanUserSort="True">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Name}" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Participations" IsReadOnly="True" Width="100" SortMemberPath="Participations"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Participations}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Created" HeaderStyle="{StaticResource DataGridHeaderCenter}" IsReadOnly="True" Width="100" SortMemberPath="Created"  CanUserSort="True">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Created}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Track length" HeaderStyle="{StaticResource DataGridHeaderCenter}"  IsReadOnly="True" Width="100" SortMemberPath="Length"  CanUserSort="True">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Length}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Price" HeaderStyle="{StaticResource DataGridHeaderCenter}" IsReadOnly="True" Width="100" SortMemberPath="Price"  CanUserSort="True">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Price}" HorizontalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Track link" HeaderStyle="{StaticResource DataGridHeaderCenter}" IsReadOnly="True" MinWidth="50" MaxWidth="50" SortMemberPath="TrackLink" CanUserSort="True">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock HorizontalAlignment="Center">
                                        <Hyperlink NavigateUri="{Binding TrackLink}" Click="link_Click" MouseRightButtonDown="link_Copy"><TextBlock ToolTip="{Binding TrackLink}" Text="🛒" HorizontalAlignment="Center" Style="{StaticResource DefaultTextBlockStyle}"/></Hyperlink>
                                    </TextBlock>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                    <DataGrid.RowDetailsTemplate>
                        <DataTemplate>
                            <DockPanel Background="{StaticResource DefaultBackgroundBrush}">
                                <DataGrid x:Name="dgSeriesInCars" HorizontalAlignment="Left" Grid.Row="0" Grid.Column="0" Style="{StaticResource SubDataGridStyle}" 
                                  AutoGenerateColumns="False" MinColumnWidth="50" 
                                  SelectionMode="Extended" ScrollViewer.CanContentScroll="False" ItemsSource="{Binding Series}"
                                  PreviewMouseWheel="DataGrid_PreviewMouseWheel">
                                    <DataGrid.Columns>
                                        <DataGridTemplateColumn IsReadOnly="True" CanUserResize="False" CanUserSort="False" Width="100" CanUserReorder="False" MinWidth="1">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn IsReadOnly="True" Header="Logo" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Image Source="{Binding Seriesimage}" RenderOptions.BitmapScalingMode="HighQuality" Height="30" Width="100"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Series" IsReadOnly="True" MinWidth="200" Width="Auto" SortMemberPath="SeriesName"  CanUserSort="True">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding SeriesName}" TextTrimming="WordEllipsis"  />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Category" IsReadOnly="True" MinWidth="80" Width="Auto" SortMemberPath="Category"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Category}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Week" IsReadOnly="True" MinWidth="80" Width="Auto" SortMemberPath="Weeks"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Weeks}" HorizontalAlignment="Center" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Eligible"  IsReadOnly="True" SortMemberPath="Eligible"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                                            <DataGridTemplateColumn.CellTemplate >
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Eligible}" HorizontalAlignment="Center"/>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </DockPanel>
                        </DataTemplate>
                    </DataGrid.RowDetailsTemplate>
                </DataGrid>

                <!-- Autostart applications view-->
                <DataGrid x:Name="gridAutoStart" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="6"  Style="{StaticResource DefaultDataGrid50hStyle}" 
                     AutoGenerateColumns="False" MinColumnWidth="50" GridLinesVisibility="Horizontal" Visibility="Hidden" 
                     SelectionChanged="dataGrid_SelectionChanged" SelectionMode="Single" >
                    <DataGrid.Columns>
                        <DataGridTemplateColumn Header="Paused" IsReadOnly="True" MinWidth="50" SortMemberPath="Pause" CanUserSort="True"  HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock x:Name="tbPause" Text="{Binding Pause}" MouseDown="gridAutoStartPause_MouseDown" FontSize="20" HorizontalAlignment="Center" ToolTip="Pause programs from starting instead of removing them.">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Pause}" Value="►">
                                                        <Setter Property="RenderTransform">
                                                            <Setter.Value>
                                                                <ScaleTransform ScaleX=".7" ScaleY="1.4" CenterX="8"  CenterY="13"  />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Pause}" Value="▐▐">
                                                        <Setter Property="RenderTransform">
                                                            <Setter.Value>
                                                                <ScaleTransform ScaleX=".35" ScaleY=".7" CenterX="14"  CenterY="13"  />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="after iRacing" IsReadOnly="True" MinWidth="50" SortMemberPath="Pause" CanUserSort="True"  HeaderStyle="{StaticResource DataGridHeaderCenter}" >
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock x:Name="tbwithiracing" Text="{Binding withiRacing}" MouseDown="gridAutoStartwithiRacing_MouseDown" FontSize="20" HorizontalAlignment="Center" ToolTip="Start program after joining a Race in iRacing."/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn IsReadOnly="True" Width="Auto" CanUserResize="False">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Image Source="{Binding Icon}" RenderOptions.BitmapScalingMode="HighQuality" Height="16"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Name" IsReadOnly="True" MinWidth="250" SortMemberPath="Name"  CanUserSort="True">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Name}" TextTrimming="WordEllipsis"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Path" IsReadOnly="True" SortMemberPath="Path" Width="100*"  CanUserSort="True">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Path}"  TextTrimming="WordEllipsis"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Remove"  IsReadOnly="True" Width="100"  CanUserSort="false" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="×" HorizontalAlignment="Center" FontSize="25" MouseDown="gridAutoStartRemove_MouseDown"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>

                <!-- Participation statistic view-->
                <UserControl Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="6">
                    <UserControl.Resources>
                        <local:ValueToBrushConverter x:Key="ValueToBrushConverter"/>
                        <local:ValueToBrushTextConverter x:Key="ValueToBrushTextConverter"/>
                        <Style x:Key="CellStyle" TargetType="DataGridCell" BasedOn="{StaticResource PartStatGridCellStyle}">
                            <Setter Property="Background" Value="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource ValueToBrushConverter}}" />
                            <Setter Property="Foreground" Value="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource ValueToBrushTextConverter}}" />
                        </Style>
                    </UserControl.Resources>
                    <DataGrid x:Name="gridPartStat" CellStyle="{StaticResource CellStyle}" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="6" ItemsSource="{Binding}" Style="{StaticResource DefaultDataGridStyle}" BorderBrush="Transparent" AutoGenerateColumns="True" RowHeight="25" MinColumnWidth="30" GridLinesVisibility="Horizontal" IsReadOnly="true" Visibility="Hidden" AutoGeneratingColumn="gridPartStat_AutoGeneratingColumn">
                        <DataGrid.ColumnHeaderStyle>
                            <Style TargetType="{x:Type DataGridColumnHeader}" BasedOn="{StaticResource DefaultHeaderStyle}">
                                <Setter Property="Width">
                                    <Setter.Value>
                                        45
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="HorizontalContentAlignment">
                                    <Setter.Value>Center</Setter.Value>
                                </Setter>
                                <Setter Property="LayoutTransform">
                                    <Setter.Value>
                                        <RotateTransform Angle="270" />
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </DataGrid.ColumnHeaderStyle>
                    </DataGrid>
                </UserControl>
                
                <!-- iRating statistic view-->

                <DataGrid x:Name="gridiRatingStat" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="6" Style="{StaticResource DefaultDataGridStyle}" BorderBrush="Transparent" AutoGenerateColumns="False" RowHeight="23" MinColumnWidth="45" GridLinesVisibility="Horizontal" Visibility="Hidden">
                    <DataGrid.Columns>
                        <DataGridTemplateColumn IsReadOnly="True" MaxWidth="10"  Width="10" CanUserResize="False" CanUserSort="False" CanUserReorder="False">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="iRating group" IsReadOnly="True" MinWidth="100" Width="Auto" SortMemberPath="iRatingGroup"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding iRatingGroup}" HorizontalAlignment="Center" Height="23" VerticalAlignment="Center" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Driver count"  IsReadOnly="True" MinWidth="100" SortMemberPath="DriverCount"  CanUserSort="True" HeaderStyle="{StaticResource DataGridHeaderCenter}">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding DriverCount}" HorizontalAlignment="Center" Height="23" VerticalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Scatter diagram"  IsReadOnly="True" SortMemberPath="Diagram"  CanUserSort="True">
                            <DataGridTemplateColumn.CellTemplate >
                                <DataTemplate>
                                    <TextBlock Text="{Binding Diagram}" HorizontalAlignment="Left" FontFamily="Stencil" Height="32" FontSize="20" VerticalAlignment="Center" TextOptions.TextFormattingMode="Display"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn IsReadOnly="True" CanUserResize="False" CanUserSort="False" Width="Auto" CanUserReorder="False" MinWidth="1">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
                
                <!-- Season overview-->
                <ScrollViewer x:Name="scrollSeasonOverview" BorderThickness="0" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="6" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Visibility="Hidden">
                    <Grid x:Name="gridSeasonOverview" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    </Grid>
                </ScrollViewer>
                <!--<DataGrid x:Name="gridSeasonOverview" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="6"  Style="{StaticResource DefaultDataGridStyle}" BorderBrush="Transparent" AutoGenerateColumns="True" GridLinesVisibility="Horizontal" IsReadOnly="true" Visibility="Hidden">

                    </DataGrid> -->
            </Grid>





            <Grid x:Name="headerMenuGrid" Grid.ColumnSpan="2" Background="Transparent">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="50"/>
                    <ColumnDefinition Width="26" />
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="50"/>
                    <ColumnDefinition Width="30"/>
                    <ColumnDefinition Width="50"/>
                    <ColumnDefinition Width="30"/>
                    <ColumnDefinition Width="105"/>
                    <ColumnDefinition Width="20"/>
                </Grid.ColumnDefinitions>
                <Border CornerRadius="0"  Grid.Column="0" Grid.ColumnSpan="10" BorderThickness="0" Margin="0.1,0,0.1,0" Height="22" Background="{StaticResource DefautlHeaderBrush}" MouseDown="Window_MouseDown">
                    <Border.Effect>
                        <DropShadowEffect ShadowDepth="2" Direction="-90" Color="Black" />
                    </Border.Effect>
                </Border>

                <DockPanel Panel.ZIndex="10" Grid.ColumnSpan="10" LastChildFill="False" HorizontalAlignment="Center" MouseDown="Window_MouseDown">
                    <Image Source="/256.png" HorizontalAlignment="Center" Width="42" Height="42" RenderOptions.BitmapScalingMode="HighQuality">
                        <Image.Effect>
                            <DropShadowEffect Direction="-90" ShadowDepth="2" BlurRadius="5"/>
                        </Image.Effect>
                    </Image>
                    <TextBlock Text="RCR Planner" Foreground="{StaticResource BrushDefaultWindowBackground}" FontSize="24" FontFamily="{StaticResource Sui Generis}"  VerticalAlignment="Center" HorizontalAlignment="Center">
                        <TextBlock.Effect>
                            <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="2" />
                        </TextBlock.Effect>
                    </TextBlock>
                </DockPanel>

                <!--<StackPanel x:Name="spHeaderMenuLogin"  Grid.Column="4" Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center" MouseDown="spHeaderMenuLogin_MouseDown">
                    <TextBlock x:Name="tbHeaderMenuLogin" Text="Login" Style="{StaticResource HeaderMenuStyle}" HorizontalAlignment="Center" VerticalAlignment="Center" />
                </StackPanel> -->
                <Ellipse  Style="{StaticResource HeaderMenuIconEllipseStyleMenu}" Grid.Column="1" Panel.ZIndex="1" Margin="0">
                    <Ellipse.Effect>
                        <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="3" />
                    </Ellipse.Effect>
                </Ellipse>
                <Button x:Name="btnstop_Programs" Height="22" Grid.Column="1" Panel.ZIndex="2" Click="btnstopPrograms_Click" ToolTip="Stop programs" Background="Transparent" Visibility="Hidden">
                    <Viewbox Height="20" Width="20">
                        <TextBlock x:Name="tbstop_Programs" Foreground="{StaticResource BrushTextWhite}" Text="◾">
                            <TextBlock.RenderTransform>
                                <ScaleTransform ScaleX="2" ScaleY="2" CenterX="5"  CenterY="6" />
                            </TextBlock.RenderTransform>
                            <TextBlock.Effect>
                                <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="1" />
                            </TextBlock.Effect>
                        </TextBlock>
                    </Viewbox>
                </Button>
                <Button x:Name="btnstart_Programs" Height="22" Grid.Column="1" Panel.ZIndex="2" Click="btnstartPrograms_Click" HorizontalAlignment="Right" ToolTip="Start programs" Background="Transparent" Visibility="Visible">
                    <Viewbox Height="20" Width="20">
                        <TextBlock x:Name="tbstart_Programs" Foreground="{StaticResource BrushTextWhite}" Text="►" HorizontalAlignment="Right" >
                            <TextBlock.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="2" CenterX="20"  CenterY="6"  />
                            </TextBlock.RenderTransform>
                            <TextBlock.Effect>
                                <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="2" />
                            </TextBlock.Effect>
                        </TextBlock>
                    </Viewbox>
                </Button>
                <!-- Profile Elements -->
                <Ellipse x:Name="elHeaderMenuProfileColor1" Fill="{StaticResource BrushYellow}" Grid.Row="0" Grid.Column="6" HorizontalAlignment="Center" VerticalAlignment="Center"  Width="36" Height="36" Panel.ZIndex="10" MouseDown="elHeaderMenuProfileColor1_MouseDown"  >
                    <Ellipse.Effect>
                        <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="3" />
                    </Ellipse.Effect>
                </Ellipse>
                <Ellipse x:Name="elHeaderMenuProfileColor2" Fill="{StaticResource BrushMiddleGreen}" Grid.Row="0" Grid.Column="6" HorizontalAlignment="Center" VerticalAlignment="Center"  Width="32" Height="32" Panel.ZIndex="20" />
                <Ellipse x:Name="elHeaderMenuProfileColor3" Fill="{StaticResource BrushDarkGreen}" Grid.Row="0" Grid.Column="6" HorizontalAlignment="Center" VerticalAlignment="Center"  Width="28" Height="28" Panel.ZIndex="30"/>
                <Label x:Name="tbHeaderMenuProfileName"  Content="RCR" Foreground="{StaticResource BrushTextWhite}" Grid.Column="6"  FontSize="8" FontFamily="{StaticResource Sui Generis}" Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"  Width="32" Height="32" Panel.ZIndex="40" MouseDown="elHeaderMenuProfileColor1_MouseDown" />

                <!-- Close Elements -->
                <Ellipse  Style="{StaticResource HeaderMenuIconEllipseStyle}" Grid.Column="8" Panel.ZIndex="1" Margin="0,0,70,0">
                    <Ellipse.Effect>
                        <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="3" />
                    </Ellipse.Effect>
                </Ellipse>
                <TextBlock Style="{StaticResource MinIconTextSytle}" Grid.Column="8" Panel.ZIndex="10" MouseDown="Min_MouseDown" Margin="0,-10,69,0" HorizontalAlignment="Right" TextAlignment="Center" />
                <Ellipse  Style="{StaticResource HeaderMenuIconEllipseStyle}" Grid.Column="8" Panel.ZIndex="1" Margin="0">
                    <Ellipse.Effect>
                        <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="3" />
                    </Ellipse.Effect>
                </Ellipse>
                <TextBlock Style="{StaticResource XIconTextSytle}" Grid.Column="8" Panel.ZIndex="10" MouseDown="Close_MouseDown" Margin="0,3,3,0"/>
                <Ellipse  Style="{StaticResource HeaderMenuIconEllipseStyle}" Grid.Column="8" Panel.ZIndex="1" Margin="0,0,35,0">
                    <Ellipse.Effect>
                        <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="3" />
                    </Ellipse.Effect>
                </Ellipse>
                <TextBlock Style="{StaticResource MaxIconTextSytle}" Grid.Column="8" Panel.ZIndex="10" MouseDown="MaxMin_MouseDown" Margin="0,-2,33,0"/>
                <Rectangle Grid.ColumnSpan="1" Grid.Column="0" Panel.ZIndex="10"  Opacity="0" Fill="{StaticResource BrushRed}" MouseDown="stackPanelMenu_MouseDown"/>
                <Ellipse  Style="{StaticResource HeaderMenuIconEllipseStyleMenu}" Grid.ColumnSpan="1" Grid.Column="0" Panel.ZIndex="0" Margin="0">
                    <Ellipse.Effect>
                        <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="3" />
                    </Ellipse.Effect>
                </Ellipse>
                <Grid Grid.ColumnSpan="1" Grid.Column="0" Height="41">
                    <Rectangle Grid.ColumnSpan="1" Grid.Column="0" Panel.ZIndex="1" Style="{StaticResource MenuIconStyle}" VerticalAlignment="Top">
                        <Rectangle.Effect>
                            <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="1" />
                        </Rectangle.Effect></Rectangle>
                    <Rectangle Grid.ColumnSpan="1" Grid.Column="0" Panel.ZIndex="1" Style="{StaticResource MenuIconStyle}" VerticalAlignment="Center">
                        <Rectangle.Effect>
                            <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="1" />
                        </Rectangle.Effect>
                    </Rectangle>
                    <Rectangle Grid.ColumnSpan="1" Grid.Column="0" Panel.ZIndex="1" Style="{StaticResource MenuIconStyle}" VerticalAlignment="Bottom">
                        <Rectangle.Effect>
                            <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="1" />
                        </Rectangle.Effect>
                    </Rectangle>
                </Grid>

                <Ellipse x:Name="MenuNotification" Grid.ColumnSpan="1" Grid.Column="0" Panel.ZIndex="2" Width="13" Height="13" Fill="{DynamicResource BrushMiddleGreen}" Margin="20,18,0,0" IsEnabled="False" Visibility="Visible">
                    <Ellipse.Effect>
                        <DropShadowEffect Color="Black" Direction="-90" RenderingBias="Quality" ShadowDepth="3" />
                    </Ellipse.Effect>
                </Ellipse>

            </Grid>


            <Grid x:Name="gridFilter" Background="{StaticResource BrushBlack}"  Grid.Column="0" Panel.ZIndex="90" Grid.ColumnSpan="2" Grid.Row="1" Grid.RowSpan="1" Margin="0,0,0,0"  Width="500" Height="0" HorizontalAlignment="Center" VerticalAlignment="Top" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="30"/>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition />
                    <ColumnDefinition Width="30"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="35"/>
                    <RowDefinition Height="55"/>
                    <RowDefinition Height="55"/>
                    <RowDefinition Height="55"/>
                    <RowDefinition Height="55"/>
                    <RowDefinition Height="40"/>
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Border Grid.ColumnSpan="4" Grid.RowSpan="7" Style="{StaticResource DefaultBorderStyle}"></Border>
                <StackPanel x:Name="stackPanelFilterClose" Grid.Column="3" Grid.Row="0" HorizontalAlignment="Left" Height="35" VerticalAlignment="Center" Width="30" MouseDown="stackPanelFilterClose_MouseDown" >
                    <TextBlock Style="{StaticResource DefaultTextBlockStyle}" Text="×" FontSize="30"/>
                </StackPanel>
                <Label Content="Official/Fixed:" Grid.Row="1" Grid.Column="1" Style="{StaticResource DefaultLabelStyle}"/>
                <Label Content="Content:" Grid.Row="2" Grid.Column="1" Style="{StaticResource DefaultLabelStyle}"/>
                <Label Content="Type:" Grid.Row="3" Grid.Column="1" Style="{StaticResource DefaultLabelStyle}"/>
                <Label Content="License:" Grid.Row="4" Grid.Column="1" Style="{StaticResource DefaultLabelStyle}"/>
                <Button x:Name="btnFilterSave" Content="Save and apply filter" Grid.Column="2" Grid.Row="5" Width="120" HorizontalAlignment="Right" Margin="5,5" Click="btnFilterSave_Click" />
                <Button x:Name="btnFilterReset" Content="Reset" Grid.Column="1" Grid.Row="5" Width="120" HorizontalAlignment="Center" Margin="5,5" Click="btnFilterReset_Click" />
                <Grid Grid.Column="2" Grid.Row="1" x:Name="gridFilterOfficial" Margin="5,5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <CheckBox x:Name="cbFilterInOfficial" Content="Unofficial" Grid.Row="0" Grid.Column="0"/>
                    <CheckBox x:Name="cbFilterOfficial" Content="Official" Grid.Row="1" Grid.Column="0"/>
                    <CheckBox x:Name="cbFilterSeasonOver" Content="Season over" Grid.Row="2" Grid.Column="0"/>
                    <CheckBox x:Name="cbFilterOpenSetup" Content="Open setup" Grid.Row="0" Grid.Column="1"/>
                    <CheckBox x:Name="cbFilterFixedSetup" Content="Fixed setup" Grid.Row="1" Grid.Column="1"/>

                </Grid>
                <Grid Grid.Column="2" Grid.Row="2" x:Name="gridFilterContent" Margin="5,5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <CheckBox x:Name="cbFilterOwnCars" Content="Own cars" Grid.Row="0" Grid.Column="0"/>
                    <CheckBox x:Name="cbFilterOwnTracks" Content="Own tracks" Grid.Row="1" Grid.Column="0"/>
                    <CheckBox x:Name="cbFilterOwnBoth" Content="Own track and car" Grid.Row="2" Grid.Column="0" Checked="cbFilterOwnBoth_Changed" Unchecked="cbFilterOwnBoth_Changed" />
                    <CheckBox x:Name="cbFilterFavSeries" Content="Fav. series" Grid.Row="0" Grid.Column="1"/>
                    <CheckBox x:Name="cbFilterFavCars" Content="Fav. cars" Grid.Row="1" Grid.Column="1"/>
                    <CheckBox x:Name="cbFilterFavTracks" Content="Fav. tracks" Grid.Row="2" Grid.Column="1"/>
                </Grid>
                <Grid Grid.Column="2" Grid.Row="3" x:Name="gridFilterCategory" Margin="5,5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <CheckBox x:Name="cbFilterFormula" Content="Formula Car" Grid.Row="0" Grid.Column="0"/>
                    <CheckBox x:Name="cbFilterSports" Content="Sports Car" Grid.Row="1" Grid.Column="0"/>
                    <CheckBox x:Name="cbFilterOval" Content="Oval" Grid.Row="0" Grid.Column="1"/>
                    <CheckBox x:Name="cbFilterDirt" Content="RX" Grid.Row="2" Grid.Column="0"/>
                    <CheckBox x:Name="cbFilterDirtOval" Content="Dirt Oval" Grid.Row="1" Grid.Column="1"/>
                </Grid>
                <Grid Grid.Column="2" Grid.Row="4" x:Name="gridFilterClass" Margin="5,5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <CheckBox x:Name="cbFilterR" Content="Rookie" Grid.Row="0" Grid.Column="0"/>
                    <CheckBox x:Name="cbFilterD" Content="Class D" Grid.Row="1" Grid.Column="0"/>
                    <CheckBox x:Name="cbFilterC" Content="Class C" Grid.Row="2" Grid.Column="0"/>
                    <CheckBox x:Name="cbFilterB" Content="Class B" Grid.Row="0" Grid.Column="1"/>
                    <CheckBox x:Name="cbFilterA" Content="Class A" Grid.Row="1" Grid.Column="1"/>
                    <CheckBox x:Name="cbFilterP" Content="Pro" Grid.Row="2" Grid.Column="1"/>
                </Grid>
            </Grid>

            <Grid x:Name="gridMenu" Background="Transparent" Grid.Row="0" Grid.RowSpan="10" MinHeight="640" Width="0" Margin="0,1,0,1" HorizontalAlignment="Left" Height="Auto">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="35"/> <!-- Row 0 -->
                    <RowDefinition Height="16"/> <!-- Row 1 -->
                    <RowDefinition Height="50"/> <!-- Row 2 -->
                    <RowDefinition Height="50"/> <!-- Row 3 -->
                    <RowDefinition Height="50"/> <!-- Row 4 -->
                    <RowDefinition Height="50"/> <!-- Row 5 -->
                    <RowDefinition Height="50"/> <!-- Row 6 -->
                    <RowDefinition Height="50"/> <!-- Row 7 -->
                    <RowDefinition Height="16"/> <!-- Row 8 -->
                    <RowDefinition Height="50"/> <!-- Row 9 -->
                    <RowDefinition Height="50"/> <!-- Row 10 -->
                    <RowDefinition Height="50"/> <!-- Row 11 -->
                    <RowDefinition Height="50"/> <!-- Row 12 -->
                    <RowDefinition Height="50"/> <!-- Row 13 -->
                    <RowDefinition />            <!--Row 14 - Placeholder -->
                    <RowDefinition Height="16"/> <!-- Row 15 -->
                    <RowDefinition Height="50"/> <!-- Row 16 -->
                    <RowDefinition Height="35"/> <!-- Row 17 -->
                    <RowDefinition Height="35"/> <!-- Row 18 -->
                    <RowDefinition Height="20"/> <!-- Row 19 -->
                </Grid.RowDefinitions>
                <Border Grid.Row="0" Grid.RowSpan="20" CornerRadius="0">
                    <Border.Background>
                        <SolidColorBrush Color="{StaticResource ColorBlack}" Opacity="0.95"/>
                    </Border.Background>
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="20" ShadowDepth="1" Color="{StaticResource ColorBlack}" Direction="0" Opacity="0.5" RenderingBias="Performance" ></DropShadowEffect>
                    </Border.Effect>
                </Border>
                <StackPanel x:Name="stackPanelMenuClose" Grid.ColumnSpan="1" Grid.Column="0" Grid.Row="0"  HorizontalAlignment="Left" Height="35" VerticalAlignment="Center" Width="30" MouseDown="stackPanelMenuClose_MouseDown" Margin="11,4,0,0" >
                    <TextBlock Style="{StaticResource DefaultTextBlockStyle}" Text="×" FontSize="30"/>
                </StackPanel>
                <DockPanel Grid.Row="1" Grid.Column="0"  Width="Auto" HorizontalAlignment="Stretch" LastChildFill="true">
                    <Line X1="0" Y1="7" X2="50" Y2="7" Width="95" Stretch="Fill" Stroke="{StaticResource BrushDarkGray}" StrokeThickness="1" />
                    <Label Content="Overviews" Width="60" Margin="0,-3,0,-3" HorizontalAlignment="Center" FontSize="10" Style="{StaticResource DefaultLabelStyle}"/>
                    <Line X1="0" Y1="7" X2="50" Y2="7" Width="95" Stretch="Fill" Stroke="{StaticResource BrushDarkGray}" StrokeThickness="1" />
                </DockPanel>
                <Button x:Name="btnLoadRaces" Grid.Row="2" Grid.Column="0" Content="Races" Click="btnLoadRaces_Click" ToolTip="View upcoming races"/>
                <Button x:Name="btnLoadSeasonOverview" Grid.Row="3" Grid.Column="0" Content="Season" Click="btnLoadSeasonOverview_Click" ToolTip="View a season overview of favorite series."/>
                <Button x:Name="btnLoadSeries" Grid.Row="4" Grid.Column="0" Content="Series" Click="btnLoadSeries_Click" ToolTip="View series"/>
                <Button x:Name="btnLoadCars" Grid.Row="5" Grid.Column="0" Content="Cars" Click="btnLoadCars_Click" ToolTip="View cars"/>
                <Button x:Name="btnLoadTracks" Grid.Row="6" Grid.Column="0" Content="Tracks" Click="btnLoadTracks_Click" ToolTip="View tracks"/>
                <Button x:Name="btnLoadPurchase" Grid.Row="7" Grid.Column="0" Content="Purchase Guide" Click="btnLoadPurchase_Click" ToolTip="View suggested track purchases"/>
                <DockPanel Grid.Row="8" Grid.Column="0"  Width="Auto" HorizontalAlignment="Stretch" LastChildFill="true">
                    <Line X1="0" Y1="7" X2="50" Y2="7" Width="100" Stretch="Fill" Stroke="{StaticResource BrushDarkGray}" StrokeThickness="1" />
                    <Label Content="Statistics" Width="50" Margin="0,-3,0,-3" HorizontalAlignment="Center" FontSize="10" Style="{StaticResource DefaultLabelStyle}"/>
                    <Line X1="0" Y1="7" X2="50" Y2="7" Width="100" Stretch="Fill" Stroke="{StaticResource BrushDarkGray}" StrokeThickness="1" />
                </DockPanel>
                <Button x:Name="btnPartStats" Grid.Row="9" Grid.Column="0" Content="Participation Statistics" Click="btnPartStats_Click" ToolTip="Create view of participation in a series."/>
                <Button x:Name="btniRatingStats" Grid.Row="10" Grid.Column="0" Content="iRating Statistics" Click="btniRatingStats_Click" ToolTip="Create view of iratings in a series."/>
                <DockPanel Grid.Row="15" Grid.Column="0"  Width="Auto" HorizontalAlignment="Stretch" LastChildFill="true">
                    <Line X1="0" Y1="7" X2="50" Y2="7" Width="100" Stretch="Fill" Stroke="{StaticResource BrushDarkGray}" StrokeThickness="1" />
                    <Label Content="Settings" Width="50" Margin="0,-3,0,-3" HorizontalAlignment="Center" FontSize="10" Style="{StaticResource DefaultLabelStyle}"/>
                    <Line X1="0" Y1="7" X2="50" Y2="7" Width="100" Stretch="Fill" Stroke="{StaticResource BrushDarkGray}" StrokeThickness="1" />
                </DockPanel>
                <DockPanel Grid.Row="16" Grid.Column="0" Width="Auto" HorizontalAlignment="Stretch" LastChildFill="True" >
                    <Button x:Name="btnstopPrograms" Width="50" DockPanel.Dock="Left" Click="btnstopPrograms_Click" ToolTip="Stop programs">
                        <Viewbox Height="50" Width="50">
                            <TextBlock x:Name="tbstopPrograms" Foreground="{StaticResource BrushDarkGray}" Text="◾">
                                <TextBlock.RenderTransform>
                                    <ScaleTransform ScaleX=".7" ScaleY=".7" CenterX="5"  CenterY="7" />
                                </TextBlock.RenderTransform>
                            </TextBlock>
                        </Viewbox>
                    </Button>
                    <Button x:Name="btnstartPrograms" Width="50" DockPanel.Dock="Right" Click="btnstartPrograms_Click" ToolTip="Start programs">
                        <Viewbox Height="50" Width="50">
                            <TextBlock x:Name="tbstartPrograms" Foreground="{StaticResource BrushYellow}" Text="►" FontSize="20" >
                                <TextBlock.RenderTransform>
                                    <ScaleTransform ScaleX=".35" ScaleY=".7" CenterX="8"  CenterY="13"  />
                                </TextBlock.RenderTransform>
                            </TextBlock>
                        </Viewbox> 
                    </Button>
                    <Button x:Name="btnLoadAutoStart"  Content="Configure Programs" DockPanel.Dock="Left" Click="btnLoadAutoStart_Click" ToolTip="Configure autostart programs" />
                </DockPanel>
                <DockPanel Grid.Row="17" Grid.Column="0" Width="Auto" HorizontalAlignment="Stretch" >
                    <Button x:Name="btnProfileUpdate" DockPanel.Dock="Left" Width="125" Content="App Update" Click="btnProfileUpdate_Click" ToolTip="Indicates an app update."/>
                    <Button x:Name="btnLogin" DockPanel.Dock="Right" Content="Login" Click="btnLogin_Click" ToolTip="Enter iRacing credentials" />
                </DockPanel> 
                <CheckBox x:Name="cbStartMinimized" Grid.Row="18" Grid.Column="0" Content="Start minimized" Width="Auto" Margin="10,0,0,0" Click="cbStartMinimized_Click" ToolTip="Select whether the planner starts in background or not." />
                <DockPanel Grid.Row="19" Grid.Column="0" Width="Auto" HorizontalAlignment="Stretch">
                    <TextBlock Style="{StaticResource DefaultTextBlockStyle}">
                        <Hyperlink NavigateUri="https://github.com/Firewolf1337/RCRPlanner/releases/latest" Click="link_Click" MouseRightButtonDown="link_Copy" Foreground="{StaticResource BrushTextWhite}">Github latest release</Hyperlink>
                    </TextBlock>
                    <Label x:Name="lblVersion" Content="" Width="Auto" Margin="0,0,0,0" FontSize="10" Style="{StaticResource DefaultLabelStyle}"/>
                </DockPanel>
            </Grid>
            <!-- Profile Grid-->
            <Grid x:Name="gridProfile" Panel.ZIndex="90" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1" Grid.RowSpan="1" Margin="0,0,15,0"  Width="500" Height="0" HorizontalAlignment="Right" VerticalAlignment="Top" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="125"/>
                    <ColumnDefinition Width="300"/>
                    <ColumnDefinition Width="75"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="15"/>
                    <RowDefinition Height="250"/>
                    <RowDefinition Height="35"/>
                </Grid.RowDefinitions>
                <Border Grid.ColumnSpan="3" Grid.RowSpan="3">
                    <Border.Background>
                        <SolidColorBrush Color="{StaticResource ColorBlack}" Opacity="0.9"/>
                    </Border.Background>
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="20" ShadowDepth="2" Color="{StaticResource ColorBlack}" Direction="-90" Opacity="0.9" RenderingBias="Performance" ></DropShadowEffect>
                    </Border.Effect>
                </Border>
                <Grid x:Name="gridUserRating" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3" >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="18"/>
                        <ColumnDefinition Width="93"/>
                        <ColumnDefinition Width="93"/>
                        <ColumnDefinition Width="93"/>
                        <ColumnDefinition Width="93"/>
                        <ColumnDefinition Width="93"/>
                        <ColumnDefinition Width="17"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="35"/>
                        <RowDefinition Height="130"/>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="17"/>
                        <RowDefinition Height="20"/>
                        <RowDefinition Height="35"/>
                    </Grid.RowDefinitions>
                    <Label x:Name="lblUsername" Content="" Grid.Column="1" Grid.ColumnSpan="2" Grid.Row="0" FontSize="15" FontFamily="{StaticResource Montserrat-Regular}" Foreground="{StaticResource BrushTextWhite}"/>
                    <Label x:Name="lblCustId" Content="User ID" Grid.Column="3" Grid.ColumnSpan="2" Grid.Row="0" FontSize="15" FontFamily="{StaticResource Montserrat-Regular}" Foreground="{StaticResource BrushTextWhite}"/>
                    <Label x:Name="lblTrackItems" Content="Bought Tracks:" Grid.Column="1" Grid.ColumnSpan="2" HorizontalAlignment="Left" Padding="0" Grid.Row="2" Style="{StaticResource DefaultLabelStyle}"/>
                    <Label x:Name="lblCarItems" Content="Bought Cars:" Grid.Column="3" Grid.ColumnSpan="2" Grid.Row="2" HorizontalAlignment="Left" Style="{StaticResource DefaultLabelStyle}" />
                    <ProgressBar x:Name="ProgItems" Maximum="40" Value="25" Grid.ColumnSpan="5" Grid.Column="1" Grid.Row="3" HorizontalAlignment="Stretch" Padding="0" Margin="0,-5,0,0" VerticalAlignment="Top" Height="17" ToolTip="Progress to the 40+ Pieces Club.">
                        <ProgressBar.Foreground>
                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                <LinearGradientBrush.RelativeTransform>
                                    <RotateTransform CenterX="0.5" CenterY="0.5" Angle="270"/>
                                </LinearGradientBrush.RelativeTransform>
                                <GradientStop Color="{StaticResource ColorYellow}" Offset="0"/>
                                <GradientStop Color="{StaticResource ColorMiddleGreen}" Offset="1"/>
                            </LinearGradientBrush>
                        </ProgressBar.Foreground>
                        <ProgressBar.Background>
                            <SolidColorBrush Color="Black"></SolidColorBrush>
                        </ProgressBar.Background>
                    </ProgressBar>
                    <DockPanel Grid.ColumnSpan="4" Grid.Column="1" Grid.Row="3" LastChildFill="true">
                        <TextBlock x:Name="tbItems"  Text="10/40" TextAlignment="Right" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,-5,0,0" Foreground="{StaticResource BrushTextWhite}" ToolTip="Progress to the 40+ Pieces Club."/>
                    </DockPanel>
                    <StackPanel Grid.ColumnSpan="4" Grid.Column="1" Grid.Row="4" Margin="0" VerticalAlignment="Top" HorizontalAlignment="Left">
                        <Label Content="*Numbers in (#) will most likely not count towards the '40+ Pieces Club' discount due to the reduced price." FontSize="8.5" Padding="0" HorizontalAlignment="Left" VerticalAlignment="top" VerticalContentAlignment="Top" Foreground="{StaticResource BrushTextWhite}"  Style="{StaticResource DefaultLabelStyle}" />
                        <Label Content="**This is also not 100% accurate due to missing information in the iRacing API." FontSize="8.5"  Padding="0" HorizontalAlignment="Left" VerticalContentAlignment="Top"  Foreground="{StaticResource BrushTextWhite}" Style="{StaticResource DefaultLabelStyle}"/>
                    </StackPanel>
                    <Grid Grid.Row="1" Grid.Column="1">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="70"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                        </Grid.RowDefinitions>
                        <xrpb:RadialProgressBar x:Name="progressOval" VerticalAlignment="Center" HorizontalAlignment="Center" Width="70" Height="70" Background="Transparent" ArcRotationDegree="135"/>
                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="{StaticResource Montserrat-Regular}"
				           FontWeight="Bold" FontSize="13" Foreground="{StaticResource BrushTextWhite}">
							<Run x:Name="textProgressOval"/>
                        </TextBlock>
                        <Label Content="Oval" Grid.Row="1" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                        <Label x:Name="lbliRatingOval" Grid.Row="2" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                        <Label x:Name="lblCpiOval" Grid.Row="3" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                    </Grid>
                    <Grid Grid.Row="1" Grid.Column="2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="70"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                        </Grid.RowDefinitions>
                        <xrpb:RadialProgressBar x:Name="progressSport" VerticalAlignment="Center" HorizontalAlignment="Center" Width="70" Height="70" Background="Transparent" ArcRotationDegree="135"/>
                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="{StaticResource Montserrat-Regular}"
				           FontWeight="Bold" FontSize="13" Foreground="{StaticResource BrushTextWhite}">
							<Run x:Name="textProgressSport"/>
                        </TextBlock>
                        <Label Content="Sports Car" Grid.Row="1" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                        <Label x:Name="lbliRatingSport" Grid.Row="2" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                        <Label x:Name="lblCpiSport" Grid.Row="3" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                    </Grid>
                    <Grid Grid.Row="1" Grid.Column="3">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="70"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                        </Grid.RowDefinitions>
                        <xrpb:RadialProgressBar x:Name="progressFormula" VerticalAlignment="Center" HorizontalAlignment="Center" Width="70" Height="70" Background="Transparent" ArcRotationDegree="135"/>
                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="{StaticResource Montserrat-Regular}"
				           FontWeight="Bold" FontSize="13" Foreground="{StaticResource BrushTextWhite}">
							<Run x:Name="textProgressFormula"/>
                        </TextBlock>
                        <Label Content="Formula Car" Grid.Row="1" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                        <Label x:Name="lbliRatingFormula" Grid.Row="2" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                        <Label x:Name="lblCpiFormula" Grid.Row="3" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                    </Grid>
                    <Grid Grid.Row="1" Grid.Column="4">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="70"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                        </Grid.RowDefinitions>
                        <xrpb:RadialProgressBar x:Name="progressDirtOval" VerticalAlignment="Center" HorizontalAlignment="Center" Width="70" Height="70" Background="Transparent" ArcRotationDegree="135"/>
                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="{StaticResource Montserrat-Regular}"
				           FontWeight="Bold" FontSize="13" Foreground="{StaticResource BrushTextWhite}">
							<Run x:Name="textProgressDirtOval"/>
                        </TextBlock>
                        <Label Content="Dirt Oval" Grid.Row="1" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                        <Label x:Name="lbliRatingDirtOval" Grid.Row="2" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                        <Label x:Name="lblCpiDirtOval" Grid.Row="3" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                    </Grid>
                    <Grid Grid.Row="1" Grid.Column="5">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="70"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                        </Grid.RowDefinitions>
                        <xrpb:RadialProgressBar x:Name="progressDirtRoad" VerticalAlignment="Center" HorizontalAlignment="Center" Width="70" Height="70" Background="Transparent" ArcRotationDegree="135"/>
                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="{StaticResource Montserrat-Regular}"
				           FontWeight="Bold" FontSize="13" Foreground="{StaticResource BrushTextWhite}">
							<Run x:Name="textProgressDirtRoad"/>
                        </TextBlock>
                        <Label Content="Dirt Road" Margin="0,-10,0,0" Grid.Row="1" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Foreground="{StaticResource BrushTextWhite}"/>
                        <Label x:Name="lbliRatingDirtRoad" Grid.Row="2" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                        <Label x:Name="lblCpiDirtRoad" Grid.Row="3" FontSize="12" HorizontalAlignment="Center"  VerticalAlignment="Top" VerticalContentAlignment="Top" FontFamily="{StaticResource Montserrat Light}" Margin="0,-10,0,0" Foreground="{StaticResource BrushTextWhite}"/>
                    </Grid>
                    
                </Grid>
                <StackPanel Orientation="Horizontal" Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="3" Height="35" HorizontalAlignment="Right" Margin="0,0,5,0" VerticalAlignment="Top" >
                    <Button x:Name="btnProfileReload" Content="Reload data" Height="35" Width="100" Click="btnProfileReload_Click" />
                </StackPanel>
            </Grid>

            <!-- Login grid -->
            <Grid x:Name="gridLogin" Panel.ZIndex="100" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Grid.RowSpan="1" Margin="0,0,0,50"  Width="500" Height="250" HorizontalAlignment="Center" VerticalAlignment="Bottom" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="125"/>
                    <ColumnDefinition Width="300"/>
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="10"/>
                    <RowDefinition Height="25"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <Border Grid.ColumnSpan="3" Grid.RowSpan="6" BorderBrush="{DynamicResource DefaultBorderBrush}" BorderThickness="1">
                    <Border.Background>
                        <SolidColorBrush Color="{StaticResource ColorBlack}" Opacity="0.9"/>
                    </Border.Background>
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="20" ShadowDepth="2" Color="{StaticResource ColorBlack}" Direction="-90" Opacity="0.9" RenderingBias="Performance" ></DropShadowEffect>
                    </Border.Effect>
                </Border>
                <StackPanel x:Name="stackPanelLoginClose" Grid.Column="3" Grid.Row="0" HorizontalAlignment="Left" Height="35" VerticalAlignment="Center" Width="30" MouseDown="LoginClose_MouseDown" >
                    <TextBlock Style="{StaticResource DefaultTextBlockStyle}" Text="×" FontSize="30"/>
                </StackPanel>
                <TextBlock Text="E-Mail address: "  Style="{StaticResource DefaultTextStyle}" Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                <TextBlock Text="Password: "  Style="{StaticResource DefaultTextStyle}" Grid.Column="0" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                <TextBox x:Name="tbLoginName" Style="{StaticResource DefaultTextBoxStyle}" Grid.Column="1" Grid.Row="1" Margin="2" CharacterCasing="Lower"/>
                <PasswordBox  x:Name="tbLoginPasword" Style="{StaticResource DefaultPasswordBoxStyle}" Grid.Column="1" Grid.Row="2" Margin="2" />
                <Grid Grid.Column="1" Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="160"/>
                        <ColumnDefinition Width="70"/>
                        <ColumnDefinition Width="70"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <CheckBox x:Name="cbSaveLogin" Content="Save Login" IsChecked="False" Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center" Foreground="{StaticResource BrushTextWhite}" FontFamily="{StaticResource Montserrat Light}" />
                    <Button x:Name="btnResetLogin" Content="Reset" Grid.Column="1"  VerticalAlignment="Top" HorizontalAlignment="Right" Width="70" Height="25" Margin="0,2,2,0" Click="btnProfileReset_Click"/>
                    <Button x:Name="btnLoginLogin" Content="Login" Grid.Column="2"  VerticalAlignment="Top" HorizontalAlignment="Right" Width="70" Height="25" Margin="0,2,2,0" Click="btnLoginLogin_Click"/>
                </Grid>
                <Label x:Name="lblLogin" Content="" Grid.Column="1" Grid.Row="5" FontFamily="{StaticResource Montserrat Light}" Foreground="{StaticResource BrushTextWhite}"/>
            </Grid>
            <Grid x:Name="gridLoadingBG" Grid.Row="0" Grid.RowSpan="4" Grid.Column="0" Grid.ColumnSpan="2" Background="{StaticResource BrushBlack}" Opacity="0.5" Visibility="Hidden"/>
        <Grid x:Name="gridLoading" Background="{StaticResource BrushBlack}" Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Grid.RowSpan="2" Margin="50,50" Visibility="Hidden">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50"/>
                <ColumnDefinition/>
                <ColumnDefinition Width="50"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="50"/>
                <RowDefinition Height="300"/>
                <RowDefinition/>
                <RowDefinition Height="50"/>
            </Grid.RowDefinitions>
            <Border Grid.Row="0" Grid.RowSpan="5" Grid.Column="0" Grid.ColumnSpan="3" Background="{StaticResource BrushBlack}">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="150" ShadowDepth="0" Color="{StaticResource ColorYellow}" Direction="0" Opacity="0.5" RenderingBias="Quality" ></DropShadowEffect>
                </Border.Effect>
            </Border>
                <Image Source="/256.png" Grid.Column="1" Grid.Row="1" Width="256" Height="256" RenderOptions.BitmapScalingMode="HighQuality"/>
            <Label x:Name="lblLoadingText" Content="" Style="{StaticResource DefaultLabelStyle}"  Grid.Column="1" Grid.Row="2" HorizontalContentAlignment="Center" HorizontalAlignment="Center"/>
            <Border Style="{StaticResource DefaultBorderStyle}" Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="0" Grid.RowSpan="4"/>
        </Grid>
    </Grid>
    </Border>
</Window>
